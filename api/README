# Sentinelle-Reputation API

API Monolithique Modulaire pour la plateforme Sentinelle-Reputation.

## ğŸš€ DÃ©marrage Rapide

### PrÃ©requis

- Node.js >= 18.0.0
- PostgreSQL >= 14
- Redis >= 6

### Installation

```bash
# Installer les dÃ©pendances
npm install

# Copier le fichier d'environnement
cp .env.example .env

# Configurer les variables d'environnement dans .env
# (voir section Configuration ci-dessous)

# CrÃ©er le dossier logs
mkdir -p logs

# GÃ©nÃ©rer le client Prisma (Ã  faire aprÃ¨s avoir configurÃ© la DB)
npm run prisma:generate

# Lancer les migrations
npm run prisma:migrate
```

### DÃ©veloppement

```bash
# DÃ©marrer le serveur en mode watch
npm run dev

# Le serveur dÃ©marre sur http://localhost:5000
```

### Production

```bash
# Build
npm run build

# DÃ©marrer
npm start
```

## ğŸ“ Structure

```
src/
â”œâ”€â”€ config/          # Configuration de l'application
â”œâ”€â”€ modules/         # Modules mÃ©tier (Ã  venir)
â”œâ”€â”€ shared/          # Code partagÃ© entre modules
â”‚   â”œâ”€â”€ middleware/  # Middleware Express
â”‚   â””â”€â”€ utils/       # Utilitaires
â”œâ”€â”€ infrastructure/  # Services d'infrastructure
â”‚   â””â”€â”€ logger/      # Logger Winston
â”œâ”€â”€ app.ts           # Configuration Express
â”œâ”€â”€ server.ts        # DÃ©marrage du serveur
â””â”€â”€ index.ts         # Point d'entrÃ©e
```

## âš™ï¸ Configuration

### Variables d'environnement essentielles

```env
# Application
NODE_ENV=development
PORT=5000

# Database
DATABASE_URL="postgresql://user:password@localhost:5432/sentinelle_dev"

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379

# JWT
JWT_SECRET=your-super-secret-jwt-key
JWT_REFRESH_SECRET=your-super-secret-refresh-key

# Stripe
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
```

Voir `.env.example` pour la liste complÃ¨te.

## ğŸ§ª Scripts Disponibles

- `npm run dev` - DÃ©marrer en mode dÃ©veloppement
- `npm run build` - Compiler TypeScript
- `npm start` - DÃ©marrer en production
- `npm run lint` - VÃ©rifier le code
- `npm run lint:fix` - Corriger automatiquement
- `npm run type-check` - VÃ©rifier les types TypeScript
- `npm run prisma:generate` - GÃ©nÃ©rer le client Prisma
- `npm run prisma:migrate` - ExÃ©cuter les migrations
- `npm run prisma:studio` - Ouvrir Prisma Studio

## ğŸ“Š Health Check

```bash
curl http://localhost:5000/health
```

## ğŸ—ï¸ Phases de DÃ©veloppement

- âœ… **Phase 1** : Fondations (Configuration, Logger, Middleware)
- ğŸ”„ **Phase 2** : Base de donnÃ©es & Authentification (en cours)
- â³ **Phase 3** : Modules mÃ©tier
- â³ **Phase 4** : Workers & Jobs asynchrones
- â³ **Phase 5** : IntÃ©gration AI Service

## ğŸ“ Standards de Code

- TypeScript strict mode activÃ©
- ESLint pour la qualitÃ© du code
- Prettier pour le formatage (recommandÃ©)
- Paths aliases configurÃ©s (@/...)

## ğŸ”’ SÃ©curitÃ©

- Helmet pour les headers HTTP
- CORS configurÃ©
- Rate limiting
- Input validation avec Zod
- JWT pour l'authentification

## ğŸ“– Documentation API

La documentation Swagger sera disponible Ã  `/api/v1/docs` dans les prochaines phases.